<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KALA BAZAR | Elite Shop</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root { --gold: #ff9f43; --dark: #0a0a0a; --green: #00ff88; --card: #111; --red: #ff4444; }
        body { font-family: 'Poppins', sans-serif; margin: 0; background: #000; color: white; -webkit-tap-highlight-color: transparent; }

        header { background: #111; padding: 15px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #222; position: sticky; top: 0; z-index: 1000; }
        .logo { font-size: 1.4rem; font-weight: bold; color: var(--gold); cursor: pointer; }

        .categories { display: flex; gap: 12px; padding: 12px; overflow-x: auto; white-space: nowrap; background: #0a0a0a; border-bottom: 1px solid #222; }
        .category-btn { background: #222; color: white; border: none; padding: 10px 20px; border-radius: 30px; font-size: 0.9rem; cursor: pointer; transition: 0.2s; }
        .category-btn.active { background: var(--gold); color: black; font-weight: bold; }

        .sidebar { height: 100%; width: 0; position: fixed; z-index: 5000; top: 0; right: 0; background: #0d0d0d; transition: 0.3s; border-left: 1px solid #333; overflow-y: auto; }
        .menu-list { padding: 10px; }
        .menu-item { display: flex; align-items: center; gap: 15px; padding: 15px; color: white; text-decoration: none; border-bottom: 1px solid #1a1a1a; cursor: pointer; }
        .menu-item i { color: var(--gold); width: 25px; font-size: 1.2rem; }

        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; padding: 12px; }
        .card { background: var(--card); border-radius: 15px; padding: 12px; border: 1px solid #222; display: flex; flex-direction: column; }
        .card img { width: 100%; border-radius: 10px; height: 130px; object-fit: contain; background: #000; }
        .prod-info { margin-top: 10px; }
        .prod-info h4 { font-size: 0.85rem; margin: 0; color: #eee; height: 35px; overflow: hidden; }
        .prod-desc { font-size: 0.7rem; color: #777; margin: 5px 0; }
        .price-row { display: flex; flex-direction: column; margin-top: 5px; }
        .price { color: var(--green); font-weight: bold; font-size: 1.1rem; }
        .watermark { font-size: 8px; color: var(--gold); font-weight: bold; opacity: 0.7; margin-top: 2px; }
        .btn-buy { background: var(--gold); color: black; border: none; padding: 10px; border-radius: 8px; font-weight: bold; font-size: 0.85rem; margin-top: 12px; cursor: pointer; transition: 0.2s; }
        .btn-buy:active { transform: scale(0.95); }

        /* New Shipping Address Modal (exactly like your screenshot) */
        #addr-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 9999; display: none; justify-content: center; align-items: center; padding: 20px; }
        .addr-box { background: #111; padding: 20px; border-radius: 15px; width: 100%; max-width: 400px; }
        .addr-box input, .addr-box select { width: 100%; padding: 14px; margin: 10px 0; background: #222; border: 1px solid #444; color: white; border-radius: 10px; box-sizing: border-box; }
        .addr-box input.invalid { border: 2px solid var(--red); }
        .addr-row { display: flex; gap: 10px; }
        .addr-row input { flex: 1; }
        .checkbox-label { display: flex; align-items: center; gap: 10px; margin: 15px 0; color: #aaa; font-size: 0.9rem; }
        .next-btn { background: #007bff; color: white; border: none; padding: 15px; width: 100%; border-radius: 10px; font-weight: bold; font-size: 1rem; cursor: pointer; }

        /* New Payment Modal */
        #pay-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.98); z-index: 6000; display: none; justify-content: center; align-items: center; padding: 20px; }
        .pay-box { background: #111; padding: 25px; border: 2px solid var(--gold); border-radius: 25px; width: 100%; max-width: 400px; text-align: center; }
        .p-btn { background: #1a1a1a; margin: 8px 0; padding: 12px; border-radius: 12px; display: flex; align-items: center; gap: 15px; color: white; text-decoration: none; border: 1px solid #333; font-weight: bold; cursor: pointer; }
        .p-btn img { width: 25px; height: 25px; border-radius: 5px; }
        .v-input { width: 100%; padding: 12px; background: #000; border: 1px solid #444; color: #00ff88; text-align: center; border-radius: 10px; margin: 10px 0; font-weight: bold; }
        .v-btn { background: #00ff88; color: black; border: none; padding: 14px; width: 100%; border-radius: 10px; font-weight: 900; cursor: pointer; }

        #loading { text-align: center; padding: 50px; font-size: 1.2rem; color: var(--gold); }
    </style>
</head>
<body>

    <header>
        <div class="logo" onclick="location.reload()">KALA BAZAR</div>
        <i class="fas fa-bars" onclick="openMenu()" style="font-size:24px; color:white;"></i>
    </header>

    <div class="categories">
        <button class="category-btn active" data-cat="all" onclick="filterCategory('all')">All</button>
        <button class="category-btn" data-cat="mobiles" onclick="filterCategory('mobiles')">Phones</button>
        <button class="category-btn" data-cat="fashion" onclick="filterCategory('fashion')">Fashion</button>
        <button class="category-btn" data-cat="electronics" onclick="filterCategory('electronics')">Electronics</button>
    </div>

    <div id="overlay" style="position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); display:none; z-index:4000;" onclick="closeMenu()"></div>

    <div id="sidebar" class="sidebar">
        <div style="padding:20px; border-bottom:1px solid #222; display:flex; justify-content:space-between; align-items:center;">
            <span style="color:var(--gold); font-weight:bold;">KALA BAZAR</span>
            <i class="fas fa-times" onclick="closeMenu()" style="font-size: 20px;"></i>
        </div>
        <div class="menu-list">
            <div class="menu-item" onclick="location.reload(); closeMenu()"><i class="fas fa-home"></i> <span>Home Page</span></div>
            <div class="menu-item" onclick="alert('No orders yet.'); closeMenu()"><i class="fas fa-box-open"></i> <span>My Orders</span></div>
            <div class="menu-item" onclick="alert('Policy: 7 Days Return, Secure Checkout, Fast Delivery.'); closeMenu()"><i class="fas fa-lock"></i> <span>Privacy Policy</span></div>
        </div>
    </div>

    <div id="loading">Loading products...</div>
    <div class="grid" id="productGrid"></div>

    <!-- New Shipping Address Modal -->
    <div id="addr-modal">
        <div class="addr-box">
            <h3 style="color:var(--gold); text-align:center; margin-bottom:20px;">Shipping Address</h3>
            <input type="text" placeholder="Country" value="US" readonly style="background:#333;">
            <input type="text" id="name" placeholder="Name">
            <input type="text" id="surname" placeholder="Surname">
            <input type="text" id="addr1" placeholder="Address Line 1" class="invalid">
            <input type="text" id="addr2" placeholder="Address Line 2 (Optional)">
            <input type="text" id="city" placeholder="City">
            <div class="addr-row">
                <input type="text" placeholder="County" readonly style="background:#333;">
                <input type="text" id="postcode" placeholder="Postcode">
            </div>
            <input type="text" id="phone" placeholder="Phone Number">
            <label class="checkbox-label">
                <input type="checkbox" checked>
                Billing address is the same as shipping address
            </label>
            <button class="next-btn" onclick="openPay(selectedPrice)">Next</button>
        </div>
    </div>

    <!-- New Payment Modal -->
    <div id="pay-modal">
        <div class="pay-box">
            <h2 style="color:var(--gold); margin-bottom:10px;">CHECKOUT</h2>
            <p id="p-amt" style="color:#00ff88; font-weight:900; margin-bottom:15px; font-size:1.4rem;"></p>
            
            <a id="gpay" href="#" class="p-btn"><img src="https://img.icons8.com/color/48/google-pay.png"> Google Pay</a>
            <a id="ppay" href="#" class="p-btn"><img src="https://img.icons8.com/color/48/phone-pe.png"> PhonePe</a>
            <a id="paytm" href="#" class="p-btn"><img src="https://img.icons8.com/color/48/paytm.png"> Paytm</a>
            
            <div class="p-btn" onclick="copyA('bc1qxy2kgdy6jrsq4z62v3860v6lcyv5uvvhu0m6ax', 'BTC BEP20')">
                <img src="https://img.icons8.com/color/48/bitcoin.png"> Bitcoin (BEP20)
            </div>
            <div class="p-btn" onclick="copyA('0xea67ed86d2a3f145a37f008c5bc0c523b50a039a', 'USDT BEP20')">
                <img src="https://img.icons8.com/color/48/tether.png"> USDT (BEP20)
            </div>

            <input type="text" id="txid" class="v-input" placeholder="Enter Transaction ID">
            <button onclick="verifyLogic()" id="v-btn" class="v-btn">VERIFY PAYMENT</button>
            <button onclick="closePay()" style="color:#ff4444; border:none; background:none; margin-top:15px; font-weight:bold; cursor:pointer;">CANCEL</button>
        </div>
    </div>

    <script>
        // Products with working placeholder images
        const products = [
            { "name": "Microfiber Cleaning Cloth", "desc": "Pack of 5 for Screens & Lenses", "price": "99", "img": "https://via.placeholder.com/300x300/222/fff?text=Microfiber+Cloth", "category": "electronics" },
            { "name": "boAt Bassheads 100", "desc": "Wired Earphones with Mic, Black.", "price": "399", "img": "https://via.placeholder.com/300x300/222/fff?text=boAt+Bassheads", "category": "electronics" },
            { "name": "SanDisk 64GB Pendrive", "desc": "USB 3.0 Flash Drive", "price": "449", "img": "https://via.placeholder.com/300x300/222/fff?text=SanDisk+64GB", "category": "electronics" },
            { "name": "iPhone 15 Pro Max", "desc": "256GB, Titanium Blue", "price": "1,48,900", "img": "https://via.placeholder.com/300x300/222/fff?text=iPhone+15+Pro+Max", "category": "mobiles" },
            { "name": "Samsung S24 Ultra", "desc": "512GB with AI", "price": "1,29,999", "img": "https://via.placeholder.com/300x300/222/fff?text=S24+Ultra", "category": "mobiles" },
            // ... (बाकी सभी प्रोडक्ट्स भी इसी तरह placeholder के साथ जोड़ सकते हो, लेकिन उदाहरण के लिए कुछ ही दिखाए)
            // आप पूरी लिस्ट में सबको placeholder दे दो
        ];

        let selectedPrice = "";
        let checkCount = 0;

        function renderProducts(list) {
            const sorted = list.sort((a, b) => Number(a.price.replace(/,/g, '')) - Number(b.price.replace(/,/g, '')));
            const grid = document.getElementById('productGrid');
            grid.innerHTML = sorted.map(p => `
                <div class="card cat-${p.category}">
                    <img src="${p.img}" loading="lazy" alt="${p.name}">
                    <div class="prod-info">
                        <h4>${p.name}</h4>
                        <p class="prod-desc">${p.desc}</p>
                        <div class="price-row">
                            <span class="price">₹${p.price}</span>
                            <span class="watermark">KALA BAZAR</span>
                        </div>
                    </div>
                    <button class="btn-buy" onclick="buyNow('${p.price}')">BUY NOW</button>
                </div>
            `).join('');
            document.getElementById('loading').style.display = 'none';
        }

        function filterCategory(cat) {
            const filtered = cat === 'all' ? products : products.filter(p => p.category === cat);
            renderProducts(filtered);
            document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
            document.querySelector(`.category-btn[data-cat="${cat}"]`).classList.add('active');
        }

        function buyNow(price) {
            selectedPrice = price;
            document.getElementById('addr-modal').style.display = 'flex';
        }

        function openPay(amt) {
            // Simple validation
            if (!document.getElementById('addr1').value) {
                document.getElementById('addr1').classList.add('invalid');
                return;
            }
            document.getElementById('addr-modal').style.display = 'none';
            document.getElementById('pay-modal').style.display = 'flex';
            document.getElementById('p-amt').innerText = "Total: ₹" + amt;

            const upi = `upi://pay?pa=rizwanhasan90122778623@ybl&am=${amt}&cu=INR`;
            document.getElementById('gpay').href = upi;
            document.getElementById('ppay').href = upi;
            document.getElementById('paytm').href = upi;

            checkCount = 0;
            const b = document.getElementById('v-btn');
            b.innerText = "VERIFY PAYMENT";
            b.style.background = "#00ff88";
        }

        function closePay() {
            document.getElementById('pay-modal').style.display = 'none';
        }

        function copyA(a, t) {
            navigator.clipboard.writeText(a);
            alert(t + " Address Copied!");
        }

        function verifyLogic() {
            const b = document.getElementById('v-btn');
            b.innerText = "PROCESSING... ⏳";
            setTimeout(() => {
                if (checkCount === 0) {
                    b.innerText = "MANUAL CHECK NEEDED ⚠️ SEND SCREENSHOT";
                    b.style.background = "orange";
                    checkCount++;
                } else {
                    const res = ["SUCCESS! ✅ CARD UNLOCKED", "PAYMENT PENDING ⏳", "PAYMENT FAILED ❌", "PROCESSING... ⏳"];
                    const msg = res[Math.floor(Math.random() * res.length)];
                    b.innerText = msg;
                    b.style.background = msg.includes("SUCCESS") ? "#00ff88" : "orange";
                }
            }, 2500);
        }

        function openMenu() {
            document.getElementById('sidebar').style.width = "280px";
            document.getElementById('overlay').style.display = "block";
        }

        function closeMenu() {
            document.getElementById('sidebar').style.width = "0";
            document.getElementById('overlay').style.display = "none";
        }

        // Initial load
        renderProducts(products);
    </script>
</body>
</html>
